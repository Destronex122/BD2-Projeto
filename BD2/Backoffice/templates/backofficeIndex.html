{% extends 'base.html' %}

{% block title %}Painel de Viticultura{% endblock %}

{% block content %} 

{% load static %}

<div class="editable-area newPadding">
    <div class="container-fluid py-4">
        <div class="row">
            <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
                <div class="card">
                    <div class="card-body p-3">
                        <div class="row">
                            <div class="col-8">
                                <div class="numbers">
                                    <!-- Displaying grape production for the current year -->
                                    <p class="text-sm mb-0 text-capitalize font-weight-bold">Produção de Uvas do ano corrente (kg)</p>
                                    <h5 class="font-weight-bolder mb-0">5,000 kg</h5>
                                </div>
                            </div>
                            <div class="col-4 text-end">
                                <div class="icon icon-shape bg-gradient-primary shadow text-center border-radius-md">
                                    <i class="ni ni-chart-bar-32 text-lg opacity-10" aria-hidden="true"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
                <div class="card">
                    <div class="card-body p-3">
                        <div class="row">
                            <div class="col-8">
                                <div class="numbers">
                                    <!-- Displaying pending deliveries -->
                                    <p class="text-sm mb-0 text-capitalize font-weight-bold">Entregas Pendentes</p>
                                    <h5 class="font-weight-bolder mb-0">15</h5>
                                </div>
                            </div>
                            <div class="col-4 text-end">
                                <div class="icon icon-shape bg-gradient-primary shadow text-center border-radius-md">
                                    <i class="ni ni-delivery-fast text-lg opacity-10" aria-hidden="true"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xl-3 col-sm-6">
                <div class="card">
                    <div class="card-body p-3">
                        <div class="row">
                            <div class="col-8">
                                <div class="numbers">
                                    <!-- Displaying deliveries completed for the current year -->
                                    <p class="text-sm mb-0 text-capitalize font-weight-bold">Entregas Realizadas no Ano Corrente</p>
                                    <h5 class="font-weight-bolder mb-0">120</h5>
                                </div>
                            </div>
                            <div class="col-4 text-end">
                                <div class="icon icon-shape bg-gradient-primary shadow text-center border-radius-md">
                                    <i class="ni ni-check-bold text-lg opacity-10" aria-hidden="true"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="row mt-4">
            <div class="col-lg-6 mb-lg-0 mb-4">
                <div class="card z-index-2">
                    <div class="card-body p-3">
                        <!-- Canvas element for the temperature chart -->
                        <canvas id="chart-temperature" class="chart-canvas" height="170"></canvas>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="card z-index-2">
                    <div class="card-body p-3">
                        <!-- Canvas element for the humidity chart -->
                        <canvas id="chart-humidity" class="chart-canvas" height="170"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <div class="row my-4">
            <div class="col-lg-6">
                <div class="card h-100">
                    <div class="card-body p-3">
                        <!-- Canvas element for the rainfall chart -->
                        <canvas id="chart-rainfall" class="chart-canvas" height="200"></canvas>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="card h-100">
                    <div class="card-body p-3">
                        <!-- Canvas element for the grape production chart -->
                        <canvas id="chart-grape-production" class="chart-canvas" height="200"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Adding Chart.js library -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
    // Gráfico de Temperatura
    var ctxTemperature = document.getElementById("chart-temperature").getContext("2d");
    new Chart(ctxTemperature, {
        type: "line",
        data: {
            // Labels representing each month of the year
            labels: ["Jan", "Fev", "Mar", "Abr", "Mai", "Jun", "Jul", "Ago", "Set", "Out", "Nov", "Dez"],
            datasets: [{
                label: "Temperatura (°C)",
                // Temperature data for each month
                data: [8, 10, 15, 18, 22, 25, 30, 28, 24, 18, 12, 9],
                borderColor: "#ff6384", // Line color for the chart
                fill: false // Line chart without filling the area below the line
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false, // Ensures chart adjusts based on container size
        }
    });

    // Gráfico de Humidade
    var ctxHumidity = document.getElementById("chart-humidity").getContext("2d");
    new Chart(ctxHumidity, {
        type: "line",
        data: {
            // Labels representing each month of the year
            labels: ["Jan", "Fev", "Mar", "Abr", "Mai", "Jun", "Jul", "Ago", "Set", "Out", "Nov", "Dez"],
            datasets: [{
                label: "Humidade (%)",
                // Humidity data for each month
                data: [60, 55, 50, 45, 40, 35, 30, 32, 40, 50, 55, 60],
                borderColor: "#36a2eb", // Line color for the chart
                fill: false // Line chart without filling the area below the line
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false, // Ensures chart adjusts based on container size
        }
    });

    // Gráfico de Precipitação
    var ctxRainfall = document.getElementById("chart-rainfall").getContext("2d");
    new Chart(ctxRainfall, {
        type: "bar",
        data: {
            // Labels representing each month of the year
            labels: ["Jan", "Fev", "Mar", "Abr", "Mai", "Jun", "Jul", "Ago", "Set", "Out", "Nov", "Dez"],
            datasets: [{
                label: "Precipitação (mm)",
                // Rainfall data for each month
                data: [100, 80, 60, 40, 30, 20, 10, 15, 25, 50, 80, 90],
                backgroundColor: "#4caf50" // Bar color for the chart
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false, // Ensures chart adjusts based on container size
        }
    });

    // Gráfico de Produção de Uvas
    var ctxGrapeProduction = document.getElementById("chart-grape-production").getContext("2d");
    new Chart(ctxGrapeProduction, {
        type: "bar",
        data: {
            // Labels representing different years of grape production
            labels: ["2018", "2019", "2020", "2021", "2022", "2023"],
            datasets: [{
                label: "Produção de Uvas (ton)",
                // Grape production data for each year
                data: [40, 45, 38, 50, 55, 60],
                backgroundColor: "#ff9800" // Bar color for the chart
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false, // Ensures chart adjusts based on container size
        }
    });
</script>

{% endblock %}
